{"remainingRequest":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/thread-loader/dist/cjs.js!/Users/drema/Desktop/Drema/transporder/transporder/node_modules/babel-loader/lib/index.js!/Users/drema/Desktop/Drema/transporder/transporder/node_modules/eslint-loader/index.js??ref--13-0!/Users/drema/Desktop/Drema/transporder/transporder/src/router/index.js","dependencies":[{"path":"/Users/drema/Desktop/Drema/transporder/transporder/src/router/index.js","mtime":1650732013650},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/cache-loader/dist/cjs.js","mtime":1650727746009},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/thread-loader/dist/cjs.js","mtime":1650727745954},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/babel-loader/lib/index.js","mtime":1650727746466},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/eslint-loader/index.js","mtime":1650727746073}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVlUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9Ib21lLnZ1ZSc7ClZ1ZS51c2UoVnVlUm91dGVyKTsKdmFyIHJvdXRlcyA9IFt7CiAgcGF0aDogJy8nLAogIG5hbWU6ICdIb21lJywKICBtZXRhOiB7CiAgICBsYXlvdXQ6ICdtYWluJywKICAgIGF1dGg6IHRydWUKICB9LAogIGNvbXBvbmVudDogSG9tZQp9LCB7CiAgcGF0aDogJy9sb2dpbicsCiAgbmFtZTogJ2xvZ2luJywKICBtZXRhOiB7CiAgICBsYXlvdXQ6ICdlbXB0eScKICB9LAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvTG9naW4udnVlJyk7CiAgfQp9LCB7CiAgcGF0aDogJy9saXN0JywKICBuYW1lOiAnbGlzdCcsCiAgbWV0YTogewogICAgbGF5b3V0OiAnbWFpbicsCiAgICBhdXRoOiB0cnVlCiAgfSwKICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgIHJldHVybiBpbXBvcnQoJy4uL3ZpZXdzL2h1Yi9MaXN0LnZ1ZScpOwogIH0KfSwgewogIHBhdGg6ICcvbGlzdC86cGFyZW50Rm9sZGVySWQtOmh1YklkLTpuYW1lJywKICBuYW1lOiAnZm9sZGVyJywKICBtZXRhOiB7CiAgICBsYXlvdXQ6ICdtYWluJywKICAgIGF1dGg6IHRydWUKICB9LAogIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgcmV0dXJuIGltcG9ydCgnLi4vdmlld3MvaHViL0xpc3QudnVlJyk7CiAgfSwKICBwcm9wczogZnVuY3Rpb24gcHJvcHMocm91dGUpIHsKICAgIHJldHVybiB7CiAgICAgIHBhcmVudEZvbGRlcklkOiByb3V0ZS5wYXJhbXMucGFyZW50Rm9sZGVySWQsCiAgICAgIGh1YklkOiByb3V0ZS5wYXJhbXMuaHViSWQsCiAgICAgIG5hbWU6IHJvdXRlLnBhcmFtcy5uYW1lCiAgICB9OwogIH0KfV07CnZhciByb3V0ZXIgPSBuZXcgVnVlUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgYmFzZTogcHJvY2Vzcy5lbnYuQkFTRV9VUkwsCiAgcm91dGVzOiByb3V0ZXMKfSk7CnJvdXRlci5iZWZvcmVFYWNoKGZ1bmN0aW9uICh0bywgZnJvbSwgbmV4dCkgewogIHZhciB0b2tlbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuRGF0YScpKTsKICB2YXIgcmVxdWlyZUF1dGggPSB0by5tYXRjaGVkLnNvbWUoZnVuY3Rpb24gKHJlY29yZCkgewogICAgcmV0dXJuIHJlY29yZC5tZXRhLmF1dGg7CiAgfSk7CiAgdmFyIHJlcXVpcmVMb2dpbiA9IHRvLm5hbWUgPT09ICdsb2dpbic7CiAgY29uc29sZS5sb2cocmVxdWlyZUxvZ2luKTsKCiAgaWYgKHRva2VuKSB7CiAgICBpZiAodG9rZW4uZXhwaXJlc19pbiA8IDEgJiYgcmVxdWlyZUF1dGgpIHsKICAgICAgbmV4dCgnL2xvZ2luJyk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCk7CiAgICB9CiAgfSBlbHNlIHsKICAgIGlmIChyZXF1aXJlTG9naW4pIG5leHQoKTsKICAgIGlmICghcmVxdWlyZUxvZ2luKSBuZXh0KCcvbG9naW4nKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["/Users/drema/Desktop/Drema/transporder/transporder/src/router/index.js"],"names":["Vue","VueRouter","Home","use","routes","path","name","meta","layout","auth","component","props","route","parentFolderId","params","hubId","router","mode","base","process","env","BASE_URL","beforeEach","to","from","next","token","JSON","parse","localStorage","getItem","requireAuth","matched","some","record","requireLogin","console","log","expires_in"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEAF,GAAG,CAACG,GAAJ,CAAQF,SAAR;AAEA,IAAMG,MAAM,GAAG,CACb;AACEC,EAAAA,IAAI,EAAE,GADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,IAAI,EAAE;AAACC,IAAAA,MAAM,EAAE,MAAT;AAAkBC,IAAAA,IAAI,EAAE;AAAxB,GAHR;AAIEC,EAAAA,SAAS,EAAER;AAJb,CADa,EAOb;AACEG,EAAAA,IAAI,EAAE,QADR;AAEEC,EAAAA,IAAI,EAAE,OAFR;AAGEC,EAAAA,IAAI,EAAE;AAACC,IAAAA,MAAM,EAAE;AAAT,GAHR;AAIEE,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,oBAAP,CAAN;AAAA;AAJb,CAPa,EAab;AACEL,EAAAA,IAAI,EAAE,OADR;AAEEC,EAAAA,IAAI,EAAE,MAFR;AAGEC,EAAAA,IAAI,EAAE;AAACC,IAAAA,MAAM,EAAE,MAAT;AAAiBC,IAAAA,IAAI,EAAE;AAAvB,GAHR;AAIEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA;AAJb,CAba,EAmBb;AACEL,EAAAA,IAAI,EAAE,oCADR;AAEEC,EAAAA,IAAI,EAAE,QAFR;AAGEC,EAAAA,IAAI,EAAE;AAACC,IAAAA,MAAM,EAAE,MAAT;AAAiBC,IAAAA,IAAI,EAAE;AAAvB,GAHR;AAIEC,EAAAA,SAAS,EAAE;AAAA,WAAM,OAAO,uBAAP,CAAN;AAAA,GAJb;AAKEC,EAAAA,KAAK,EAAE,eAACC,KAAD;AAAA,WAAY;AACjBC,MAAAA,cAAc,EAAED,KAAK,CAACE,MAAN,CAAaD,cADZ;AAEjBE,MAAAA,KAAK,EAAEH,KAAK,CAACE,MAAN,CAAaC,KAFH;AAGjBT,MAAAA,IAAI,EAAEM,KAAK,CAACE,MAAN,CAAaR;AAHF,KAAZ;AAAA;AALT,CAnBa,CAAf;AAgCA,IAAMU,MAAM,GAAG,IAAIf,SAAJ,CAAc;AAC3BgB,EAAAA,IAAI,EAAE,SADqB;AAE3BC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFS;AAG3BjB,EAAAA,MAAM,EAANA;AAH2B,CAAd,CAAf;AAMAY,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAMC,IAAN,EAAaC,IAAb,EAAsB;AACtC,MAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAX,CAAd;AAEA,MAAMC,WAAW,GAAGR,EAAE,CAACS,OAAH,CAAWC,IAAX,CAAgB,UAAAC,MAAM;AAAA,WAAIA,MAAM,CAAC3B,IAAP,CAAYE,IAAhB;AAAA,GAAtB,CAApB;AACA,MAAM0B,YAAY,GAAGZ,EAAE,CAACjB,IAAH,KAAY,OAAjC;AACA8B,EAAAA,OAAO,CAACC,GAAR,CAAYF,YAAZ;;AAEA,MAAIT,KAAJ,EAAW;AACT,QAAKA,KAAK,CAACY,UAAN,GAAmB,CAApB,IAA0BP,WAA9B,EAA2C;AACzCN,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,KAFD,MAEO;AACLA,MAAAA,IAAI;AACL;AACF,GAND,MAMO;AACL,QAAIU,YAAJ,EAAkBV,IAAI;AACtB,QAAI,CAACU,YAAL,EAAmBV,IAAI,CAAC,QAAD,CAAJ;AACpB;AACF,CAjBD;AAmBA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue'\nimport VueRouter from 'vue-router'\nimport Home from '../views/Home.vue'\n\nVue.use(VueRouter)\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    meta: {layout: 'main' , auth: true},\n    component: Home\n  },\n  {\n    path: '/login',\n    name: 'login',\n    meta: {layout: 'empty'},\n    component: () => import('../views/Login.vue'),\n  },\n  {\n    path: '/list',\n    name: 'list',\n    meta: {layout: 'main', auth: true},\n    component: () => import('../views/hub/List.vue'),\n  },\n  {\n    path: '/list/:parentFolderId-:hubId-:name',\n    name: 'folder',\n    meta: {layout: 'main', auth: true},\n    component: () => import('../views/hub/List.vue'),\n    props: (route) => ({\n      parentFolderId: route.params.parentFolderId,\n      hubId: route.params.hubId,\n      name: route.params.name,\n    }),\n  },\n]\n\nconst router = new VueRouter({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes\n})\n\nrouter.beforeEach((to , from , next) => {\n  const token = JSON.parse(localStorage.getItem('tokenData'))\n\n  const requireAuth = to.matched.some(record => record.meta.auth)\n  const requireLogin = to.name === 'login'\n  console.log(requireLogin)\n  \n  if (token) {\n    if ((token.expires_in < 1) && requireAuth) {\n      next('/login')\n    } else {\n      next()\n    }\n  } else {\n    if (requireLogin) next()\n    if (!requireLogin) next('/login')\n  }\n})\n\nexport default router\n"]}]}