{"remainingRequest":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/babel-loader/lib/index.js!/Users/drema/Desktop/Drema/transporder/transporder/node_modules/eslint-loader/index.js??ref--13-0!/Users/drema/Desktop/Drema/transporder/transporder/src/store/modules/auth.js","dependencies":[{"path":"/Users/drema/Desktop/Drema/transporder/transporder/src/store/modules/auth.js","mtime":1650479147760},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/cache-loader/dist/cjs.js","mtime":1644509624454},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/babel-loader/lib/index.js","mtime":1644509624775},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/eslint-loader/index.js","mtime":1644509625425}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kcmVtYS9EZXNrdG9wL0RyZW1hL3RyYW5zcG9yZGVyL3RyYW5zcG9yZGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLyBpbXBvcnQge0hUVFBBVVRIfSBmcm9tICJAL2h0dHAtY29tbW9uIjsKaW1wb3J0IHsgSFRUUCB9IGZyb20gIkAvaHR0cC1jb21tb24iOyAvLyBpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luTWV0aG9kIiwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY3R4LCBxdWVyeSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtLCBrZXk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKGtleSwgcXVlcnlba2V5XSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gSFRUUC5wb3N0KCJhdXRoL3YxL2xvZ2luIiwgZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGdldERhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2V0RGF0YSk7CiAgICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3VwZGF0ZScsIGdldERhdGEpOyAvLyBjb25zdCB0b2tlbiA9IHJlc3AuZGF0YS50b2tlbgogICAgICAgICAgICAgICAgICAvLyBjb25zdCB1c2VyID0gcmVzcC5kYXRhLnVzZXIKICAgICAgICAgICAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pCiAgICAgICAgICAgICAgICAgIC8vIEF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBdXRob3JpemF0aW9uJ10gPSBgQmVhcmVyICR7Z2V0RGF0YS5hY2Nlc3NfdG9rZW59YAogICAgICAgICAgICAgICAgICAvLyBjb21taXQoJ2F1dGhfc3VjY2VzcycsIHRva2VuLCB1c2VyKQogICAgICAgICAgICAgICAgICAvLyByZXNvbHZlKHJlc3ApCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgICAgY3R4LmNvbW1pdCgnc2V0RXJyb3InLCBlKTsKICAgICAgICAgICAgICAgICAgdGhyb3cgZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgbG9nT3V0OiBmdW5jdGlvbiBsb2dPdXQoY3R4KSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjdHguY29tbWl0KCdkZWxldGVUb2tlbicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIEhUVFAucG9zdCgnYXV0aC9sb2dvdXQnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShzdGF0ZSwgZ2V0RGF0YSkgewogICAgICBzdGF0ZS5nZXREYXRhID0gZ2V0RGF0YTsgLy8gc3RhdGUuY3JlZGVudGlhbHMudG9rZW4gPSBnZXREYXRhLmFjY2Vzc190b2tlbgoKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZ2V0RGF0YS5hY2Nlc3NfdG9rZW4pOwogICAgfSwKICAgIGRlbGV0ZVRva2VuOiBmdW5jdGlvbiBkZWxldGVUb2tlbihzdGF0ZSkgewogICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7IC8vIHN0YXRlLmNyZWRlbnRpYWxzLnRva2VuID0gbnVsbAoKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICB9CiAgfSwKICBzdGF0ZTogewogICAgZ2V0RGF0YTogW10KICB9LAogIGdldHRlcnM6IHsKICAgIGRhdGE6IGZ1bmN0aW9uIGRhdGEoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmdldERhdGE7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/Users/drema/Desktop/Drema/transporder/transporder/src/store/modules/auth.js"],"names":["HTTP","name","actions","login","ctx","query","form","FormData","key","append","post","then","response","getData","data","result","console","log","commit","catch","e","logOut","mutations","update","state","localStorage","setItem","access_token","deleteToken","removeItem","getters"],"mappings":";;AAAA;AACA,SAAQA,IAAR,QAAmB,eAAnB,C,CACA;;AAGA,eAAe;AACbC,EAAAA,IAAI,EAAE,aADO;AAEbC,EAAAA,OAAO,EAAE;AAEDC,IAAAA,KAFC,iBAEKC,GAFL,EAEWC,KAFX,EAEiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,gBAAAA,IADkB,GACX,IAAIC,QAAJ,EADW;;AAEtB,qBAASC,GAAT,IAAgBH,KAAhB,EAAuB;AACrBC,kBAAAA,IAAI,CAACG,MAAL,CAAYD,GAAZ,EAAkBH,KAAK,CAACG,GAAD,CAAvB;AACD;;AAJqB;AAAA,uBAKhBR,IAAI,CAACU,IAAL,kBAA0BJ,IAA1B,EACCK,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,sBAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAT,CAAcC,MAA9B;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACAT,kBAAAA,GAAG,CAACc,MAAJ,CAAW,QAAX,EAAsBL,OAAtB,EAHgB,CAIhB;AACN;AACA;AACA;AACA;AACA;AACK,iBAXD,EAYCM,KAZD,CAYO,UAAAC,CAAC,EAAI;AACVJ,kBAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACAhB,kBAAAA,GAAG,CAACc,MAAJ,CAAW,UAAX,EAAwBE,CAAxB;AACA,wBAAMA,CAAN;AACD,iBAhBD,CALgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuBvB,KAzBM;AA0BDC,IAAAA,MA1BC,kBA0BMjB,GA1BN,EA0BU;AAAA;AAAA;AAAA;AAAA;AAAA;AACfA,gBAAAA,GAAG,CAACc,MAAJ,CAAW,aAAX;AADe;AAAA,uBAITlB,IAAI,CAACU,IAAL,CAAU,aAAV,EAAyBC,IAAzB,CAA8B,UAAAC,QAAQ,EAAI;AAC9CI,kBAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACE,IAArB;AAA2B,iBADvB,EACyBK,KADzB,CAC+B,UAAAC,CAAC,EAAI;AACxCJ,kBAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AAAe,iBAFX,CAJS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOhB;AAjCM,GAFI;AAqCbE,EAAAA,SAAS,EAAE;AACTC,IAAAA,MADS,kBACFC,KADE,EACMX,OADN,EACc;AACrBW,MAAAA,KAAK,CAACX,OAAN,GAAgBA,OAAhB,CADqB,CAErB;;AACAY,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8Bb,OAAO,CAACc,YAAtC;AACD,KALQ;AAMTC,IAAAA,WANS,uBAMGJ,KANH,EAMS;AAChBR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ,EADgB,CAEhB;;AACAC,MAAAA,YAAY,CAACI,UAAb,CAAwB,OAAxB;AACD;AAVQ,GArCE;AAiDbL,EAAAA,KAAK,EAAE;AACLX,IAAAA,OAAO,EAAE;AADJ,GAjDM;AAoDbiB,EAAAA,OAAO,EAAE;AACPhB,IAAAA,IADO,gBACFU,KADE,EACI;AACT,aAAOA,KAAK,CAACX,OAAb;AACD;AAHM;AApDI,CAAf","sourcesContent":["// import {HTTPAUTH} from \"@/http-common\";\nimport {HTTP} from \"@/http-common\";\n// import Axios from 'axios'\n\n\nexport default {\n  name: \"LoginMethod\",\n  actions: {\n    \n    async login(ctx , query){\n      let form = new FormData()\n      for (let key in query) {\n        form.append(key , query[key])\n      }\n      await HTTP.post(`auth/v1/login`,form)\n            .then(response => {\n              const getData = response.data.result\n              console.log(getData)\n              ctx.commit('update' , getData)\n              // const token = resp.data.token\n        // const user = resp.data.user\n        // localStorage.setItem('token', token)\n        // Axios.defaults.headers.common['Authorization'] = `Bearer ${getData.access_token}`\n        // commit('auth_success', token, user)\n        // resolve(resp)\n            })\n            .catch(e => {\n              console.log(e)\n              ctx.commit('setError' , e)\n              throw e\n            })\n\n    },\n    async logOut(ctx){\n      ctx.commit('deleteToken')\n\n\n      await HTTP.post('auth/logout').then(response => {\n        console.log(response.data)}).catch(e => {\n        console.log(e)})\n    }\n  },\n  mutations: {\n    update(state , getData){\n      state.getData = getData\n      // state.credentials.token = getData.access_token\n      localStorage.setItem('token', getData.access_token)\n    },\n    deleteToken(state){\n      console.log(state)\n      // state.credentials.token = null\n      localStorage.removeItem('token')\n    }\n  },\n  state: {\n    getData: [],\n  },\n  getters: {\n    data(state){\n      return state.getData\n    }\n  },\n}"]}]}