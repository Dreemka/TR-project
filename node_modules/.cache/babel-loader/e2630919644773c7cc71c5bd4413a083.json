{"remainingRequest":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/babel-loader/lib/index.js!/Users/drema/Desktop/Drema/transporder/transporder/node_modules/eslint-loader/index.js??ref--13-0!/Users/drema/Desktop/Drema/transporder/transporder/src/store/modules/auth.js","dependencies":[{"path":"/Users/drema/Desktop/Drema/transporder/transporder/src/store/modules/auth.js","mtime":1650662745849},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/cache-loader/dist/cjs.js","mtime":1644509624454},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/babel-loader/lib/index.js","mtime":1644509624775},{"path":"/Users/drema/Desktop/Drema/transporder/transporder/node_modules/eslint-loader/index.js","mtime":1644509625425}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9kcmVtYS9EZXNrdG9wL0RyZW1hL3RyYW5zcG9yZGVyL3RyYW5zcG9yZGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLyBpbXBvcnQge0hUVFBBVVRIfSBmcm9tICJAL2h0dHAtY29tbW9uIjsKaW1wb3J0IHsgSFRUUCB9IGZyb20gIkAvaHR0cC1jb21tb24iOyAvLyBpbXBvcnQgQXhpb3MgZnJvbSAnYXhpb3MnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkxvZ2luTWV0aG9kIiwKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oY3R4LCBxdWVyeSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBmb3JtLCBrZXk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZm9ybSA9IG5ldyBGb3JtRGF0YSgpOwoKICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgIGZvcm0uYXBwZW5kKGtleSwgcXVlcnlba2V5XSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gSFRUUC5wb3N0KCJhdXRoL3YxL2xvZ2luIiwgZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgdmFyIGdldERhdGEgPSByZXNwb25zZS5kYXRhLnJlc3VsdDsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZ2V0RGF0YSk7CiAgICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3VwZGF0ZScsIGdldERhdGEpOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgICAgICAgICAgIGN0eC5jb21taXQoJ3NldEVycm9yJywgZSk7CiAgICAgICAgICAgICAgICAgIHRocm93IGU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGxvZ091dDogZnVuY3Rpb24gbG9nT3V0KGN0eCkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY3R4LmNvbW1pdCgnZGVsZXRlVG9rZW4nKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBIVFRQLnBvc3QoJ2F1dGgvbG9nb3V0JykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlKTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogewogICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoc3RhdGUsIGdldERhdGEpIHsKICAgICAgc3RhdGUuZ2V0RGF0YSA9IGdldERhdGE7IC8vIHN0YXRlLmNyZWRlbnRpYWxzLnRva2VuID0gZ2V0RGF0YS5hY2Nlc3NfdG9rZW4KCiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0b2tlbicsIGdldERhdGEuYWNjZXNzX3Rva2VuKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuRGF0YScsIEpTT04uc3RyaW5naWZ5KGdldERhdGEpKTsKICAgIH0sCiAgICBkZWxldGVUb2tlbjogZnVuY3Rpb24gZGVsZXRlVG9rZW4oc3RhdGUpIHsKICAgICAgY29uc29sZS5sb2coc3RhdGUpOyAvLyBzdGF0ZS5jcmVkZW50aWFscy50b2tlbiA9IG51bGwKCiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd0b2tlbicpOwogICAgfQogIH0sCiAgc3RhdGU6IHsKICAgIGdldERhdGE6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICBkYXRhOiBmdW5jdGlvbiBkYXRhKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5nZXREYXRhOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/drema/Desktop/Drema/transporder/transporder/src/store/modules/auth.js"],"names":["HTTP","name","actions","login","ctx","query","form","FormData","key","append","post","then","response","getData","data","result","console","log","commit","catch","e","logOut","mutations","update","state","localStorage","setItem","access_token","JSON","stringify","deleteToken","removeItem","getters"],"mappings":";;AAAA;AACA,SAAQA,IAAR,QAAmB,eAAnB,C,CACA;;AAGA,eAAe;AACbC,EAAAA,IAAI,EAAE,aADO;AAEbC,EAAAA,OAAO,EAAE;AAEDC,IAAAA,KAFC,iBAEKC,GAFL,EAEWC,KAFX,EAEiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAClBC,gBAAAA,IADkB,GACX,IAAIC,QAAJ,EADW;;AAEtB,qBAASC,GAAT,IAAgBH,KAAhB,EAAuB;AACrBC,kBAAAA,IAAI,CAACG,MAAL,CAAYD,GAAZ,EAAkBH,KAAK,CAACG,GAAD,CAAvB;AACD;;AAJqB;AAAA,uBAKhBR,IAAI,CAACU,IAAL,kBAA0BJ,IAA1B,EACCK,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,sBAAMC,OAAO,GAAGD,QAAQ,CAACE,IAAT,CAAcC,MAA9B;AACAC,kBAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ;AACAT,kBAAAA,GAAG,CAACc,MAAJ,CAAW,QAAX,EAAsBL,OAAtB;AACD,iBALD,EAMCM,KAND,CAMO,UAAAC,CAAC,EAAI;AACVJ,kBAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACAhB,kBAAAA,GAAG,CAACc,MAAJ,CAAW,UAAX,EAAwBE,CAAxB;AACA,wBAAMA,CAAN;AACD,iBAVD,CALgB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBvB,KAnBM;AAoBDC,IAAAA,MApBC,kBAoBMjB,GApBN,EAoBU;AAAA;AAAA;AAAA;AAAA;AAAA;AACfA,gBAAAA,GAAG,CAACc,MAAJ,CAAW,aAAX;AADe;AAAA,uBAITlB,IAAI,CAACU,IAAL,CAAU,aAAV,EAAyBC,IAAzB,CAA8B,UAAAC,QAAQ,EAAI;AAC9CI,kBAAAA,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACE,IAArB;AAA2B,iBADvB,EACyBK,KADzB,CAC+B,UAAAC,CAAC,EAAI;AACxCJ,kBAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AAAe,iBAFX,CAJS;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOhB;AA3BM,GAFI;AA+BbE,EAAAA,SAAS,EAAE;AACTC,IAAAA,MADS,kBACFC,KADE,EACMX,OADN,EACc;AACrBW,MAAAA,KAAK,CAACX,OAAN,GAAgBA,OAAhB,CADqB,CAErB;;AACAY,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8Bb,OAAO,CAACc,YAAtC;AACAF,MAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCE,IAAI,CAACC,SAAL,CAAehB,OAAf,CAAlC;AACD,KANQ;AAOTiB,IAAAA,WAPS,uBAOGN,KAPH,EAOS;AAChBR,MAAAA,OAAO,CAACC,GAAR,CAAYO,KAAZ,EADgB,CAEhB;;AACAC,MAAAA,YAAY,CAACM,UAAb,CAAwB,OAAxB;AACD;AAXQ,GA/BE;AA4CbP,EAAAA,KAAK,EAAE;AACLX,IAAAA,OAAO,EAAE;AADJ,GA5CM;AA+CbmB,EAAAA,OAAO,EAAE;AACPlB,IAAAA,IADO,gBACFU,KADE,EACI;AACT,aAAOA,KAAK,CAACX,OAAb;AACD;AAHM;AA/CI,CAAf","sourcesContent":["// import {HTTPAUTH} from \"@/http-common\";\nimport {HTTP} from \"@/http-common\";\n// import Axios from 'axios'\n\n\nexport default {\n  name: \"LoginMethod\",\n  actions: {\n    \n    async login(ctx , query){\n      let form = new FormData()\n      for (let key in query) {\n        form.append(key , query[key])\n      }\n      await HTTP.post(`auth/v1/login`,form)\n            .then(response => {\n              const getData = response.data.result\n              console.log(getData)\n              ctx.commit('update' , getData)\n            })\n            .catch(e => {\n              console.log(e)\n              ctx.commit('setError' , e)\n              throw e\n            })\n\n    },\n    async logOut(ctx){\n      ctx.commit('deleteToken')\n\n\n      await HTTP.post('auth/logout').then(response => {\n        console.log(response.data)}).catch(e => {\n        console.log(e)})\n    }\n  },\n  mutations: {\n    update(state , getData){\n      state.getData = getData\n      // state.credentials.token = getData.access_token\n      localStorage.setItem('token', getData.access_token)\n      localStorage.setItem('tokenData', JSON.stringify(getData))\n    },\n    deleteToken(state){\n      console.log(state)\n      // state.credentials.token = null\n      localStorage.removeItem('token')\n    }\n  },\n  state: {\n    getData: [],\n  },\n  getters: {\n    data(state){\n      return state.getData\n    }\n  },\n}"]}]}